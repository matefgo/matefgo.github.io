var _=Object.defineProperty;var K=(i,t,e)=>t in i?_(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var u=(i,t,e)=>(K(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();const I=new WeakMap;function $(i,t,e,s){if(!i&&!I.has(t))return!1;const n=I.get(t)??new WeakMap;I.set(t,n);const o=n.get(e)??new Set;n.set(e,o);const a=o.has(s);return i?o.add(s):o.delete(s),a&&i}function Q(i,t){let e=i.target;if(e instanceof Text&&(e=e.parentElement),e instanceof Element&&i.currentTarget instanceof Element){const s=e.closest(t);if(s&&i.currentTarget.contains(s))return s}}function G(i,t,e,s={}){const{signal:n,base:o=document}=s;if(n!=null&&n.aborted)return;const{once:a,...r}=s,l=o instanceof Document?o.documentElement:o,h=!!(typeof s=="object"?s.capture:s),c=p=>{const v=Q(p,i);if(v){const g=Object.assign(p,{delegateTarget:v});e.call(l,g),a&&(l.removeEventListener(t,c,r),$(!1,l,e,d))}},d=JSON.stringify({selector:i,type:t,capture:h});$(!0,l,e,d)||l.addEventListener(t,c,r),n==null||n.addEventListener("abort",()=>{$(!1,l,e,d)})}function f(){return f=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},f.apply(this,arguments)}const j=(i,t)=>String(i).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",S=({hash:i}={})=>window.location.pathname+window.location.search+(i?window.location.hash:""),J=(i,t={})=>{const e=f({url:i=i||S({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(e,"",i)},A=(i=null,t={})=>{i=i||S({hash:!0});const e=f({},window.history.state||{},{url:i,random:Math.random(),source:"swup"},t);window.history.replaceState(e,"",i)},Z=(i,t,e,s)=>{const n=new AbortController;return s=f({},s,{signal:n.signal}),G(i,t,e,s),{destroy:()=>n.abort()}};class C extends URL{constructor(t,e=document.baseURI){super(t.toString(),e),Object.setPrototypeOf(this,C.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new C(e)}static fromUrl(t){return new C(t)}}class q extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}async function tt(i,t={}){var e;i=C.fromUrl(i).url;const{visit:s=this.visit}=t,n=f({},this.options.requestHeaders,t.headers),o=(e=t.timeout)!=null?e:this.options.timeout,a=new AbortController,{signal:r}=a;t=f({},t,{headers:n,signal:r});let l,h=!1,c=null;o&&o>0&&(c=setTimeout(()=>{h=!0,a.abort("timeout")},o));try{l=await this.hooks.call("fetch:request",s,{url:i,options:t},(w,{url:y,options:k})=>fetch(y,k)),c&&clearTimeout(c)}catch(w){throw h?(this.hooks.call("fetch:timeout",s,{url:i}),new q(`Request timed out: ${i}`,{url:i,timedOut:h})):(w==null?void 0:w.name)==="AbortError"||r.aborted?new q(`Request aborted: ${i}`,{url:i,aborted:!0}):w}const{status:d,url:m}=l,p=await l.text();if(d===500)throw this.hooks.call("fetch:error",s,{status:d,response:l,url:m}),new q(`Server error: ${m}`,{status:d,url:m});if(!p)throw new q(`Empty response: ${m}`,{status:d,url:m});const{url:v}=C.fromUrl(m),g={url:v,html:p};return!s.cache.write||t.method&&t.method!=="GET"||i!==v||this.cache.set(g.url,g),g}class et{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((e,s)=>{t.set(s,f({},e))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e&&f({},e)}set(t,e){e=f({},e,{url:t=this.resolve(t)}),this.pages.set(t,e),this.swup.hooks.callSync("cache:set",void 0,{page:e})}update(t,e){t=this.resolve(t);const s=f({},this.get(t),e,{url:t});this.pages.set(t,s)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((e,s)=>{t(s,e)&&this.delete(s)})}resolve(t){const{url:e}=C.fromUrl(t);return this.swup.resolveUrl(e)}}const O=(i,t=document)=>t.querySelector(i),U=(i,t=document)=>Array.from(t.querySelectorAll(i)),V=()=>new Promise(i=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{i()})})});function W(i){return!!i&&(typeof i=="object"||typeof i=="function")&&typeof i.then=="function"}function it(i,t=[]){return new Promise((e,s)=>{const n=i(...t);W(n)?n.then(e,s):e(n)})}function st(i){var t;(t=i=i||document.body)==null||t.getBoundingClientRect()}class nt{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?U(this.selector):[]}add(...t){this.targets.forEach(e=>e.classList.add(...t))}remove(...t){this.targets.forEach(e=>e.classList.remove(...t))}clear(){this.targets.forEach(t=>{const e=t.className.split(" ").filter(s=>this.isSwupClass(s));t.classList.remove(...e)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}class X{constructor(t,e){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0;const{to:s,from:n=t.currentPageUrl,hash:o,el:a,event:r}=e;this.id=Math.random(),this.state=1,this.from={url:n},this.to={url:s,hash:o},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:a,event:r},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function ot(i){return new X(this,i)}class at{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,e,s={}){const n=this.get(t);if(!n)return console.warn(`Hook '${t}' not found.`),()=>{};const o=f({},s,{id:n.size+1,hook:t,handler:e});return n.set(e,o),()=>this.off(t,e)}before(t,e,s={}){return this.on(t,e,f({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,f({},s,{replace:!0}))}once(t,e,s={}){return this.on(t,e,f({},s,{once:!0}))}off(t,e){const s=this.get(t);s&&e?s.delete(e)||console.warn(`Handler for hook '${t}' not found.`):s&&s.clear()}async call(t,e,s,n){const[o,a,r]=this.parseCallArgs(t,e,s,n),{before:l,handler:h,after:c}=this.getHandlers(t,r);await this.run(l,o,a);const[d]=await this.run(h,o,a,!0);return await this.run(c,o,a),this.dispatchDomEvent(t,o,a),d}callSync(t,e,s,n){const[o,a,r]=this.parseCallArgs(t,e,s,n),{before:l,handler:h,after:c}=this.getHandlers(t,r);this.runSync(l,o,a);const[d]=this.runSync(h,o,a,!0);return this.runSync(c,o,a),this.dispatchDomEvent(t,o,a),d}parseCallArgs(t,e,s,n){return e instanceof X||typeof e!="object"&&typeof s!="function"?[e,s,n]:[void 0,e,s]}async run(t,e=this.swup.visit,s,n=!1){const o=[];for(const{hook:a,handler:r,defaultHandler:l,once:h}of t)if(e==null||!e.done){h&&this.off(a,r);try{const c=await it(r,[e,s,l]);o.push(c)}catch(c){if(n)throw c;console.error(`Error in hook '${a}':`,c)}}return o}runSync(t,e=this.swup.visit,s,n=!1){const o=[];for(const{hook:a,handler:r,defaultHandler:l,once:h}of t)if(e==null||!e.done){h&&this.off(a,r);try{const c=r(e,s,l);o.push(c),W(c)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${a}'.`)}catch(c){if(n)throw c;console.error(`Error in hook '${a}':`,c)}}return o}getHandlers(t,e){const s=this.get(t);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const n=Array.from(s.values()),o=this.sortRegistrations,a=n.filter(({before:d,replace:m})=>d&&!m).sort(o),r=n.filter(({replace:d})=>d).filter(d=>!0).sort(o),l=n.filter(({before:d,replace:m})=>!d&&!m).sort(o),h=r.length>0;let c=[];if(e&&(c=[{id:0,hook:t,handler:e}],h)){const d=r.length-1,m=p=>{const v=r[p-1];return v?(g,w)=>v.handler(g,w,m(p-1)):e};c=[{id:0,hook:t,handler:r[d].handler,defaultHandler:m(d)}]}return{found:!0,before:a,handler:c,after:l,replaced:h}}sortRegistrations(t,e){var s,n;return((s=t.priority)!=null?s:0)-((n=e.priority)!=null?n:0)||t.id-e.id||0}dispatchDomEvent(t,e,s){if(e!=null&&e.done)return;const n={hook:t,args:s,visit:e||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:n,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:n,bubbles:!0}))}}const rt=i=>{if(i&&i.charAt(0)==="#"&&(i=i.substring(1)),!i)return null;const t=decodeURIComponent(i);let e=document.getElementById(i)||document.getElementById(t)||O(`a[name='${CSS.escape(i)}']`)||O(`a[name='${CSS.escape(t)}']`);return e||i!=="top"||(e=document.body),e},P="transition",E="animation";async function ct({elements:i,selector:t}){if(t===!1&&!i)return;let e=[];if(i)e=Array.from(i);else if(t&&(e=U(t,document.body),!e.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const s=e.map(n=>function(o){const{type:a,timeout:r,propCount:l}=function(h){const c=window.getComputedStyle(h),d=x(c,`${P}Delay`),m=x(c,`${P}Duration`),p=z(d,m),v=x(c,`${E}Delay`),g=x(c,`${E}Duration`),w=z(v,g),y=Math.max(p,w),k=y>0?p>w?P:E:null;return{type:k,timeout:y,propCount:k?k===P?m.length:g.length:0}}(o);return!(!a||!r)&&new Promise(h=>{const c=`${a}end`,d=performance.now();let m=0;const p=()=>{o.removeEventListener(c,v),h()},v=g=>{if(g.target===o){if(!function(w){return[`${P}end`,`${E}end`].includes(w.type)}(g))throw new Error("Not a transition or animation event.");(performance.now()-d)/1e3<g.elapsedTime||++m>=l&&p()}};setTimeout(()=>{m<l&&p()},r+1),o.addEventListener(c,v)})}(n));s.filter(Boolean).length>0?await Promise.all(s):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function x(i,t){return(i[t]||"").split(", ")}function z(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((e,s)=>B(e)+B(i[s])))}function B(i){return 1e3*parseFloat(i)}function lt(i,t={},e={}){if(typeof i!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(i,{el:e.el,event:e.event}))return void window.location.assign(i);const{url:s,hash:n}=C.fromUrl(i),o=this.createVisit(f({},e,{to:s,hash:n}));this.performNavigation(o,t)}async function ht(i,t={}){if(this.navigating){if(this.visit.state>=6)return i.state=2,void(this.onVisitEnd=()=>this.performNavigation(i,t));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=i;const{el:e}=i.trigger;t.referrer=t.referrer||this.currentPageUrl,t.animate===!1&&(i.animation.animate=!1),i.animation.animate||this.classes.clear();const s=t.history||(e==null?void 0:e.getAttribute("data-swup-history"))||void 0;s&&["push","replace"].includes(s)&&(i.history.action=s);const n=t.animation||(e==null?void 0:e.getAttribute("data-swup-animation"))||void 0;var o,a;n&&(i.animation.name=n),typeof t.cache=="object"?(i.cache.read=(o=t.cache.read)!=null?o:i.cache.read,i.cache.write=(a=t.cache.write)!=null?a:i.cache.write):t.cache!==void 0&&(i.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",i,void 0),i.state=3;const r=this.hooks.call("page:load",i,{options:t},async(l,h)=>{let c;return l.cache.read&&(c=this.cache.get(l.to.url)),h.page=c||await this.fetchPage(l.to.url,h.options),h.cache=!!c,h.page});if(r.then(({html:l})=>{i.advance(5),i.to.html=l,i.to.document=new DOMParser().parseFromString(l,"text/html")}),!i.history.popstate){const l=i.to.url+i.to.hash;i.history.action==="replace"||i.to.url===this.currentPageUrl?A(l):(this.currentHistoryIndex++,J(l,{index:this.currentHistoryIndex}))}if(this.currentPageUrl=S(),i.history.popstate&&this.classes.add("is-popstate"),i.animation.name&&this.classes.add(`to-${j(i.animation.name)}`),i.animation.wait&&await r,i.done||(await this.hooks.call("visit:transition",i,void 0,async()=>{if(!i.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(i,await r);i.advance(4),await this.animatePageOut(i),i.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(i,await r)).finished:await this.renderPage(i,await r),await this.animatePageIn(i)}),i.done))return;await this.hooks.call("visit:end",i,void 0,()=>this.classes.clear()),i.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(r){if(!r||r!=null&&r.aborted)return void(i.state=8);i.state=9,console.error(r),this.options.skipPopStateHandling=()=>(window.location.assign(i.to.url+i.to.hash),!0),window.history.back()}finally{delete i.to.document}}const ut=async function(i){await this.hooks.call("animation:out:start",i,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",i,{skip:!1},(t,{skip:e})=>{if(!e)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",i,void 0)},dt=function(i){var t;const e=i.to.document;if(!e)return!1;const s=((t=e.querySelector("title"))==null?void 0:t.innerText)||"";document.title=s;const n=U('[data-swup-persist]:not([data-swup-persist=""])'),o=i.containers.map(a=>{const r=document.querySelector(a),l=e.querySelector(a);return r&&l?(r.replaceWith(l.cloneNode(!0)),!0):(r||console.warn(`[swup] Container missing in current document: ${a}`),l||console.warn(`[swup] Container missing in incoming document: ${a}`),!1)}).filter(Boolean);return n.forEach(a=>{const r=a.getAttribute("data-swup-persist"),l=O(`[data-swup-persist="${r}"]`);l&&l!==a&&l.replaceWith(a)}),o.length===i.containers.length},mt=function(i){const t={behavior:"auto"},{target:e,reset:s}=i.scroll,n=e??i.to.hash;let o=!1;return n&&(o=this.hooks.callSync("scroll:anchor",i,{hash:n,options:t},(a,{hash:r,options:l})=>{const h=this.getAnchorElement(r);return h&&h.scrollIntoView(l),!!h})),s&&!o&&(o=this.hooks.callSync("scroll:top",i,{options:t},(a,{options:r})=>(window.scrollTo(f({top:0,left:0},r)),!0))),o},pt=async function(i){if(i.done)return;const t=this.hooks.call("animation:in:await",i,{skip:!1},(e,{skip:s})=>{if(!s)return this.awaitAnimations({selector:e.animation.selector})});await V(),await this.hooks.call("animation:in:start",i,void 0,()=>{this.classes.remove("is-animating")}),await t,await this.hooks.call("animation:in:end",i,void 0)},ft=async function(i,t){if(i.done)return;i.advance(6);const{url:e}=t;this.isSameResolvedUrl(S(),e)||(A(e),this.currentPageUrl=S(),i.to.url=this.currentPageUrl),await this.hooks.call("content:replace",i,{page:t},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${j(s.animation.name)}`))}),await this.hooks.call("content:scroll",i,void 0,()=>this.scrollToContent(i)),await this.hooks.call("page:view",i,{url:this.currentPageUrl,title:document.title})},gt=function(i){var t;if(t=i,!!(t!=null&&t.isSwupPlugin)){if(i.swup=this,!i._checkRequirements||i._checkRequirements())return i._beforeMount&&i._beforeMount(),i.mount(),this.plugins.push(i),this.plugins}else console.error("Not a swup plugin instance",i)};function vt(i){const t=this.findPlugin(i);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(e=>e!==t),this.plugins;console.error("No such plugin",t)}function wt(i){return this.plugins.find(t=>t===i||t.name===i||t.name===`Swup${String(i)}`)}function yt(i){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),i;const t=this.options.resolveUrl(i);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),i):t:(console.warn("[swup] options.resolveUrl needs to return a url"),i)}function Ct(i,t){return this.resolveUrl(i)===this.resolveUrl(t)}const bt={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:(i,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:i=>i,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:i=>{var t;return((t=i.state)==null?void 0:t.source)!=="swup"},timeout:0};class St{constructor(t={}){var e,s;this.version="4.6.1",this.options=void 0,this.defaults=bt,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=S(),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=gt,this.unuse=vt,this.findPlugin=wt,this.log=()=>{},this.navigate=lt,this.performNavigation=ht,this.createVisit=ot,this.delegateEvent=Z,this.fetchPage=tt,this.awaitAnimations=ct,this.renderPage=ft,this.replaceContent=dt,this.animatePageIn=pt,this.animatePageOut=ut,this.scrollToContent=mt,this.getAnchorElement=rt,this.getCurrentUrl=S,this.resolveUrl=yt,this.isSameResolvedUrl=Ct,this.options=f({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new et(this),this.classes=new nt(this),this.hooks=new at(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(e=(s=window.history.state)==null?void 0:s.index)!=null?e:1,this.enable()}async enable(){var t;const{linkSelector:e}=this.options;this.clickDelegate=this.delegateEvent(e,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s)),((t=window.history.state)==null?void 0:t.source)!=="swup"&&A(null,{index:this.currentHistoryIndex}),await V(),await this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:e,event:s}={}){const{origin:n,url:o,hash:a}=C.fromUrl(t);return n!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(o+a,{el:e,event:s})}handleLinkClick(t){const e=t.delegateTarget,{href:s,url:n,hash:o}=C.fromElement(e);if(this.shouldIgnoreVisit(s,{el:e,event:t}))return;if(this.navigating&&n===this.visit.to.url)return void t.preventDefault();const a=this.createVisit({to:n,hash:o,el:e,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",a,{href:s}):t.button===0&&this.hooks.callSync("link:click",a,{el:e,event:t},()=>{var r;const l=(r=a.from.url)!=null?r:"";t.preventDefault(),n&&n!==l?this.isSameResolvedUrl(n,l)||this.performNavigation(a):o?this.hooks.callSync("link:anchor",a,{hash:o},()=>{A(n+o),this.scrollToContent(a)}):this.hooks.callSync("link:self",a,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(a):(A(n),this.scrollToContent(a))})})}handlePopState(t){var e,s,n,o;const a=(e=(s=t.state)==null?void 0:s.url)!=null?e:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(S(),this.currentPageUrl))return;const{url:r,hash:l}=C.fromUrl(a),h=this.createVisit({to:r,hash:l,event:t});h.history.popstate=!0;const c=(n=(o=t.state)==null?void 0:o.index)!=null?n:0;c&&c!==this.currentHistoryIndex&&(h.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),h.animation.animate=!1,h.scroll.reset=!1,h.scroll.target=!1,this.options.animateHistoryBrowsing&&(h.animation.animate=!0,h.scroll.reset=!0),this.hooks.callSync("history:popstate",h,{event:t},()=>{this.performNavigation(h)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function M(){return M=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},M.apply(this,arguments)}const F=i=>String(i).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");let kt=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,e])=>{if(!function(s,n,o){const a=function(r,l){var h;if(r==="swup")return(h=l.version)!=null?h:"";{var c;const d=l.findPlugin(r);return(c=d==null?void 0:d.version)!=null?c:""}}(s,o);return!!a&&((r,l)=>l.every(h=>{const[,c,d]=h.match(/^([\D]+)?(.*)$/)||[];var m,p;return((v,g)=>{const w={"":y=>y===0,">":y=>y>0,">=":y=>y>=0,"<":y=>y<0,"<=":y=>y<=0};return(w[g]||w[""])(v)})((p=d,m=F(m=r),p=F(p),m.localeCompare(p,void 0,{numeric:!0})),c||">=")}))(a,n)}(t,e=Array.isArray(e)?e:[e],this.swup)){const s=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(t,e,s={}){var n;e=!(n=e).name.startsWith("bound ")||n.hasOwnProperty("prototype")?e.bind(this):e;const o=this.swup.hooks.on(t,e,s);return this.handlersToUnregister.push(o),o}once(t,e,s={}){return this.on(t,e,M({},s,{once:!0}))}before(t,e,s={}){return this.on(t,e,M({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,M({},s,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}};function H(){return H=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},H.apply(this,arguments)}class Pt extends kt{constructor(t={}){super(),this.name="SwupParallelPlugin",this.requires={swup:">=4.6"},this.defaults={containers:[],keep:0},this.options=void 0,this.originalContainers=null,this.parallelContainers=[],this.startVisit=e=>{this.originalContainers=null,this.visitHasPotentialParallelAnimation(e)&&(e.animation.wait=!0,e.animation.parallel=!0)},this.skipOutAnimation=(e,s)=>{this.isParallelVisit(e)&&(s.skip=!0)},this.insertContainers=e=>{if(!this.isParallelVisit(e))return;const s=this.getParallelContainersForVisit(e);this.parallelContainers=s,this.swup.hooks.call("content:insert",{containers:s},()=>{for(const{all:o,next:a,previous:r,keep:l,remove:h}of s)o.forEach((c,d)=>c.style.setProperty("--swup-parallel-container",`${d}`)),r.setAttribute("aria-hidden","true"),r.before(a),e.animation.animate&&(a.classList.add("is-next-container"),st(a),a.classList.remove("is-next-container")),r.classList.add("is-previous-container"),l.forEach(c=>c.classList.add("is-kept-container")),h.forEach(c=>c.classList.add("is-removing-container"))}),this.originalContainers=e.containers;const n=this.parallelContainers.map(({selector:o})=>o);e.containers=e.containers.filter(o=>!n.includes(o))},this.resetContainers=e=>{this.originalContainers&&(e.containers=this.originalContainers)},this.cleanupContainers=()=>{const e=this.parallelContainers;this.swup.hooks.call("content:remove",{containers:e},()=>{for(const{remove:s,next:n}of e)s.forEach(o=>o.remove()),n.classList.remove("is-next-container")}),this.parallelContainers=[]},this.options=H({},this.defaults,t)}mount(){this.options.containers.length||(this.options.containers=this.swup.options.containers),this.swup.hooks.create("content:insert"),this.swup.hooks.create("content:remove"),this.on("visit:start",this.startVisit,{priority:1}),this.before("animation:out:await",this.skipOutAnimation,{priority:1}),this.before("content:replace",this.insertContainers,{priority:1}),this.on("content:replace",this.resetContainers),this.on("visit:end",this.cleanupContainers)}getParallelContainersForVisit(t){const{containers:e}=this.options,s=e.filter(n=>t.containers.includes(n));return s.length?s.reduce((n,o)=>{let{keep:a}=this.options;a=typeof a=="object"?a[o]:a,a=Math.max(0,Number(a));const r=t.to.document.querySelector(o),l=Array.from(document.querySelectorAll(o)),h=l[0],c=l.slice(0,a),d=l.slice(a),m=[...new Set([r,h,...c,...d])];return r&&h?[...n,{selector:o,next:r,previous:h,keep:c,remove:d,all:m}]:(console.warn(`Parallel container ${o} not found`),n)},[]):(console.warn("No parallel containers found in list of replaced containers"),[])}isParallelVisit(t){return t.animation.parallel}markVisitAsParallelAnimation(t){t.animation.wait=!0,t.animation.parallel=!0}visitHasPotentialParallelAnimation(t){return t.animation.parallel!==!1&&this.visitHasParallelContainers(t)}visitHasParallelContainers(t){return this.options.containers.some(e=>{const s=document.querySelector(e);return s==null?void 0:s.matches(t.containers.join(","))})}}class b{constructor(t){u(this,"width",0);u(this,"heigth",0);u(this,"canvas");u(this,"ctx");this.canvas=document.querySelector(t),this.ctx=this.canvas.getContext("2d"),this.setCanvasSize()}setCanvasSize(){this.width=this.canvas.width=innerWidth,this.heigth=this.canvas.height=innerHeight}}class At{constructor(){u(this,"currentAnimationId",0);u(this,"mouseX");u(this,"mouseY");u(this,"realMouseX");u(this,"realMouseY");u(this,"size",3);u(this,"spacing",12);u(this,"distortionRadius",300);u(this,"sphereDisplacementFactor",0);u(this,"dynamicAngle",Math.random()*36e3);u(this,"squares",[]);u(this,"sphereCanvas");u(this,"glowCanvas");u(this,"shadowCanvas");u(this,"squaresCanvas");this.sphereCanvas=new b("#sphere"),this.shadowCanvas=new b("#shadow"),this.glowCanvas=new b("#glow"),this.squaresCanvas=new b("#squares"),this.mouseX=window.innerWidth/2,this.mouseY=window.innerHeight/2,this.realMouseX=window.innerWidth/2,this.realMouseY=window.innerHeight/2,document.addEventListener("mousemove",t=>{this.realMouseX=t.clientX,this.realMouseY=t.clientY,this.sphereDisplacementFactor=0}),this.defineSquareList(),this.drawScene()}defineSquareList(){const t=Math.floor(window.innerWidth/this.spacing),e=Math.floor(window.innerHeight/this.spacing);for(let s=0;s<e;s++){const n=(2*s-1)*this.spacing;for(let o=0;o<t;o++){const a=(2*o-1)*this.spacing;this.squares.push({x:a,y:n})}}}defineRectPath(t){const e=this.size/2;let s=t.x+e,n=t.y+e;const o=this.mouseX-s,a=this.mouseY-n,r=Math.hypot(o,a),l=this.distortionRadius*1.66;if(r<this.distortionRadius){const c=r**2/l;n+=c-l+this.distortionRadius;const d=this.waveDistortion(this.distortionRadius);this.squaresCanvas.ctx.rect(s,n-d,this.size,this.size);return}const h=this.waveDistortion(r);this.squaresCanvas.ctx.rect(s,n-h,this.size,this.size)}waveDistortion(t){const e=2*t/(this.distortionRadius*1.66),s=Math.cos(2*Math.PI*e+this.dynamicAngle/100);return 100*Math.exp(-e)*s}drawSphereComponent(t){const{ctx:e,color:s,waveDistortion:n,initialAngle:o,finalAngle:a}=t;e.clearRect(0,0,this.squaresCanvas.width,this.squaresCanvas.heigth),e.fillStyle=s,e.beginPath(),e.arc(this.mouseX,this.mouseY-n,this.distortionRadius,o,a),e.fill()}drawSphereItens(){const t=this.waveDistortion(this.distortionRadius);this.drawSphereComponent({waveDistortion:t,initialAngle:0,finalAngle:2*Math.PI,ctx:this.sphereCanvas.ctx,color:`hsl(${this.dynamicAngle/100}, 100%, 60%)`}),this.drawSphereComponent({waveDistortion:t,ctx:this.glowCanvas.ctx,finalAngle:325*Math.PI/180,initialAngle:215*Math.PI/180,color:`hsl(${this.dynamicAngle/100}, 100%, 100%)`}),this.drawSphereComponent({waveDistortion:t,ctx:this.shadowCanvas.ctx,initialAngle:15*Math.PI/180,finalAngle:165*Math.PI/180,color:`hsl(${this.dynamicAngle/100}, 50%, 25%)`})}handleMouseMove(){const t=this.realMouseX-this.mouseX,e=this.realMouseY-this.mouseY;if(this.sphereDisplacementFactor===170){this.mouseX=this.realMouseX,this.mouseY=this.realMouseY;return}const s=this.sphereDisplacementFactor/100,n=1/(1+Math.exp(5-2*s));this.mouseX+=n*t,this.mouseY+=n*e,this.sphereDisplacementFactor+=1}drawSquares(){this.squaresCanvas.ctx.clearRect(0,0,this.squaresCanvas.width,this.squaresCanvas.heigth),this.squaresCanvas.ctx.fillStyle="white",this.squaresCanvas.ctx.globalCompositeOperation="overlay",this.squaresCanvas.ctx.beginPath();for(const t of this.squares)this.defineRectPath(t);this.squaresCanvas.ctx.fill()}drawScene(){this.drawSphereItens(),this.drawSquares(),this.handleMouseMove(),this.dynamicAngle+=1,this.dynamicAngle>=36e3&&(this.dynamicAngle=0),document.documentElement.style.setProperty("--color-angle",`${Math.floor(this.dynamicAngle/100)}`),this.animateCanvas()}animateCanvas(){this.currentAnimationId=requestAnimationFrame(()=>{this.drawScene()})}stopAnimation(){cancelAnimationFrame(this.currentAnimationId)}}class L{constructor(){u(this,"x");u(this,"y");u(this,"lineFunction");u(this,"size");u(this,"displacement",0);u(this,"radians");u(this,"quadrant");this.radians=Math.random()*Math.PI*2,this.quadrant=Math.floor(this.radians/(Math.PI/2)),this.size=Math.floor(Math.random()*6e3+3e3),this.lineFunction=this.defineLineFunction(),this.x=this.defineX(),this.y=this.defineY()}isOutOfScreen(){const t=Math.cos(this.radians),e=Math.sin(this.radians),s=this.displacement-this.size,{xIntercept:n,widthY:o,yIntercept:a,heightX:r}=this.lineFunction;return{0:()=>{const h=t*s,c=e*s;return this.radians>Math.PI/4?h>innerHeight:c+n>innerWidth},1:()=>{const h=Math.abs(t)*s,c=e*s;return this.radians>3*Math.PI/4?c>innerWidth:h+o>innerHeight},2:()=>{const h=Math.abs(t)*s,c=Math.abs(e)*s;return this.radians>5*Math.PI/4?c>innerHeight:h>r},3:()=>{const h=t*s,c=Math.abs(e)*s;return this.radians>7*Math.PI/4?h>innerWidth:c>a}}[this.quadrant]()}draw(t){const e=this.displacement-this.size;t.translate(this.x,this.y),t.rotate(this.radians);const s=t.createLinearGradient(e,0,this.displacement,0);s.addColorStop(0,"transparent"),s.addColorStop(.5,"black"),s.addColorStop(1,"transparent"),t.lineCap="round",t.strokeStyle=s,t.beginPath(),t.moveTo(e,0),t.lineTo(this.displacement,0),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0),this.displacement+=15}defineLineFunction(){const t=Math.tan(this.radians),e=Math.floor(Math.random()*10/10*innerWidth),s=Math.floor(Math.random()*10/10*innerHeight),n=Math.floor(s-t*e),o=Math.floor(-n/t),a=Math.floor(t*innerWidth+n),r=Math.floor((innerHeight-n)/t);return{widthY:a,heightX:r,xIntercept:o,yIntercept:n}}defineX(){const{xIntercept:t,heightX:e}=this.lineFunction;return{0:t,1:innerWidth,2:e,3:0}[this.quadrant]}defineY(){const{widthY:t,yIntercept:e}=this.lineFunction;return{0:0,1:t,2:innerHeight,3:e}[this.quadrant]}}class Mt{constructor(){u(this,"currentAnimationId",0);u(this,"noBlurCanvas");u(this,"fullBlurCanvas");u(this,"mediumBlurCanvas");u(this,"noBlurLines");u(this,"fullBlurLines");u(this,"mediumBlurLines");this.noBlurLines=Array.from({length:4},()=>new L),this.fullBlurLines=Array.from({length:3},()=>new L),this.mediumBlurLines=Array.from({length:3},()=>new L),this.fullBlurCanvas=new b("#full-blur"),this.mediumBlurCanvas=new b("#medium-blur"),this.noBlurCanvas=new b("#no-blur"),this.drawScene()}drawLines(t,e){e.clearRect(0,0,window.innerWidth,window.innerHeight),t.map((s,n)=>{s.draw(e),s.isOutOfScreen()&&(t[n]=new L)})}drawScene(){this.drawLines(this.noBlurLines,this.noBlurCanvas.ctx),this.drawLines(this.fullBlurLines,this.fullBlurCanvas.ctx),this.drawLines(this.mediumBlurLines,this.mediumBlurCanvas.ctx),this.animateCanvas()}animateCanvas(){this.currentAnimationId=requestAnimationFrame(()=>{this.drawScene()})}stopAnimation(){cancelAnimationFrame(this.currentAnimationId)}}function T(i){const t=document.querySelectorAll(".nav-link button");t.forEach(e=>{const s=()=>{e.classList.contains("active")?e.nextElementSibling.click():(t.forEach(o=>{o.classList.remove("active")}),e.classList.add("active"))};if(i==="remove"){e.removeEventListener("click",s);return}e.addEventListener("click",s)})}class qt{constructor(){u(this,"x");u(this,"size");u(this,"velocity",0);u(this,"acceleration");u(this,"hasStopped",!1);this.x=Math.random(),this.acceleration=Math.random()*.01+.01,this.size=Math.round(Math.random()*45+5)}draw(t,e){const s=this.size/2,n=this.x*t.canvas.clientWidth;this.velocity=this.velocity+this.acceleration;const o=this.velocity*this.size;t.fillStyle=e,t.beginPath(),t.moveTo(n-this.size,0),t.bezierCurveTo(n,0,n-s/2,this.size,n-s,this.size+o),t.arc(n,this.size+o,s,210*Math.PI/180,-20*Math.PI/180,!0),t.bezierCurveTo(n+s/2,this.size,n,0,n+this.size,0),t.fill(),t.closePath(),o>t.canvas.clientHeight&&(this.acceleration=0,this.hasStopped=!0)}}class Et{constructor(){u(this,"angle",0);u(this,"currentAnimationId",0);u(this,"backgroundColor","hsl(219, 50%, 11%)");u(this,"liquidColor","hsl(219, 50%, 50%)");u(this,"liquidDisplacement");u(this,"drops",[]);u(this,"canvas");this.canvas=new b(".portfolio canvas"),this.liquidDisplacement=this.canvas.heigth,this.generateDrops(),this.drawDrops()}generateDrops(){const t=7*Math.random()+3;this.drops=Array.from({length:t},()=>new qt)}liquidFilling(){this.canvas.ctx.fillStyle=this.liquidColor;const t=this.angle*Math.PI/180,e=this.liquidDisplacement,s=10*Math.sin(t);if(this.canvas.ctx.beginPath(),this.canvas.ctx.moveTo(0,e),this.canvas.ctx.quadraticCurveTo(this.canvas.width/4,e+s,this.canvas.width/2,e),this.canvas.ctx.quadraticCurveTo(3*this.canvas.width/4,e-s,this.canvas.width,e),this.canvas.ctx.lineTo(this.canvas.width,this.canvas.heigth),this.canvas.ctx.lineTo(0,this.canvas.heigth),this.canvas.ctx.fill(),this.canvas.ctx.closePath(),this.angle+=3,this.liquidDisplacement-=.1,this.liquidDisplacement<-50){this.liquidDisplacement=this.canvas.heigth;const n=this.backgroundColor;this.backgroundColor=this.liquidColor,this.liquidColor=n,this.generateDrops()}}drawDrops(){this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.heigth),this.canvas.ctx.fillStyle=this.backgroundColor,this.canvas.ctx.fillRect(0,0,this.canvas.width,this.canvas.heigth);for(const t of this.drops)t.draw(this.canvas.ctx,this.liquidColor);this.drops.some(t=>t.hasStopped)&&this.liquidFilling(),this.animateCanvas()}animateCanvas(){this.currentAnimationId=requestAnimationFrame(()=>{this.drawDrops()})}stopAnimation(){cancelAnimationFrame(this.currentAnimationId)}}class xt extends b{constructor(){super(".contact canvas");u(this,"currentAnimationId",0)}animateCanvas(){}stopAnimation(){cancelAnimationFrame(this.currentAnimationId)}}class Lt extends b{constructor(){super(".story canvas");u(this,"angle",0);u(this,"currentAnimationId",0)}animateCanvas(){}stopAnimation(){cancelAnimationFrame(this.currentAnimationId)}}function It(){const i=document.createElement("h2");i.innerText="Hello, and welcome.";const t=document.createElement("p");return t.innerText="Fell free to navigate and explore my page.",{h2:i,p:t}}function $t(){const i=document.querySelector("main");i.classList.add("welcome");const t=i.innerHTML,{h2:e,p:s}=It();i.replaceChildren(e,s);const n=i.animate({opacity:[0,1,1,0],offset:[0,.3,.7]},{duration:6e3,fill:"forwards"});n.onfinish=()=>{i.classList.remove("welcome"),i.innerHTML=t,i.animate({opacity:[0,1]},{duration:1e3,fill:"forwards"})}}const R=new St({plugins:[new Pt]}),Y={"/":Mt,"/about/":At,"/portfolio/":Et,"/story/":Lt,"/contact/":xt};let D,N;document.addEventListener("DOMContentLoaded",()=>{T("add"),$t();const i=location.pathname;D=new Y[i]});R.hooks.on("content:remove",()=>{T("add"),N.stopAnimation()});R.hooks.on("content:insert",i=>{T("remove");const t=i.to.url;N=D,D=new Y[t]});R.hooks.on("visit:start",i=>{const t=i.trigger.el;if(t.classList.contains("main-link")){const n=t.querySelector("svg"),{x:o,y:a}=n.getBoundingClientRect(),r=innerWidth>innerHeight?"200vw":"200vh";document.documentElement.style.setProperty("--x-corner",`${o}`),document.documentElement.style.setProperty("--y-corner",`${a}`),document.documentElement.style.setProperty("--square-size",`${r}`);return}const e=t.previousElementSibling;if(window.matchMedia("screen and (min-width: 768px)").matches){const{x:n,y:o}=t.getBoundingClientRect();document.documentElement.style.setProperty("--x-corner",`${n}`),document.documentElement.style.setProperty("--y-corner",`${o}`);return}if(e){const{x:n,y:o}=e.getBoundingClientRect();document.documentElement.style.setProperty("--x-corner",`${n}`),document.documentElement.style.setProperty("--y-corner",`${o}`)}});
